<!DOCTYPE HTML>
<html lang="en">

<head>
    <% include ./inc/head.ejs %>
    <style>
        /* Set the size of the div element that contains the map */
       #map {
         height: 600px;  /* The height is 400 pixels */
         width: 100%;  /* The width is the width of the web page */
        }
 
        /* 검색창 스타일 */
        #description {
         font-family: Roboto;
         font-size: 15px;
         font-weight: 300;
       }
 
       #infowindow-content .title {
         font-weight: bold;
       }
 
       #infowindow-content {
         display: none;
       }
 
       #map #infowindow-content {
         display: inline;
       }
 
       .pac-card {
         margin: 10px 10px 0 0;
         border-radius: 2px 0 0 2px;
         box-sizing: border-box;
         -moz-box-sizing: border-box;
         outline: none;
         box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
         background-color: #fff;
         font-family: Roboto;
       }
 
       #pac-container {
         padding-bottom: 0;
         margin-right: 0;
       }
 
       .pac-controls {
         display: inline-block;
         padding: 5px 11px;
       }
 
       .pac-controls label {
         font-family: Roboto;
         font-size: 13px;
         font-weight: 300;
       }
 
       #pac-input {
         background-color: bg-highlight;
         font-family: Roboto;
         font-size: 15px;
         font-weight: 300;
         margin-left: 12px;
         padding: 0 0 0 0;
         text-overflow: ellipsis;
         width: 800px;
       }
 
       #pac-input:focus {
         border-color: #4d90fe;
       }
 
       #title {
         color: #fff;
         background-color: #4d90fe;
         font-size: 25px;
         font-weight: 500;
         padding: 6px 12px;
       }
       /* 여기까지 검색창 스타일 */
     </style>
     <script src="https://code.jquery.com/jquery-2.2.4.js"
     integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
     crossorigin="anonymous"></script>

     <script>
         function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -33.8688, lng: 151.2195},
          zoom: 13
        });
        }
     </script>

</head>

<body class="theme-light" data-background="none" data-highlight="blue2">
    <div id="page">
        <% include ./inc/header.ejs %>
        <% include ./inc/footer.ejs %>
        <div class="page-content header-clear-medium">

            <link rel="stylesheet" type="text/css" href="styles/store.css">
            
            <div class="content-boxed content-boxed-full">
                <div class="store-slide-2">
                    <div class="store-slide-title">
                        <h3 class="bolder">Locker Name</h3>
                        <p>
                            Please write your place's name.
                        </p>
                        <p>
                            Locker Name : <input type="text" id="name" placeholder="CU 가락시장점" style="border: 1px solid black;">
                        </p>
                    </div>
                </div>
            </div>

            <div class="content-boxed content-boxed-full">
                <div class="store-slide-2">
                    <div class="store-slide-title">
                        <h3 class="bolder">Search Address</h3>
                        <p>
                            Please select your locker's location.
                        </p>
                    </div>
                    <div class="store-slide-button" style="text-align: right">
                        <a href="#" data-menu="menu-settings"><i class="fa color-highlight">Go!</i><i class="fa fa-arrow-right color-theme"></i></a>
                        <!-- -->
                        <div id="menu-settings" class="menu menu-box-bottom menu-box-detached round-large" data-menu-height="310" data-menu-effect="menu-over" style="height: 310px; opacity: 1; display: block;">
                            <div class="content bottom-0">
                                <!--
                                <div class="menu-title"><a href="#" class="close-menu"><i class="fa fa-times"></i></a></div>
                                -->
                                <!-- 검색창--> 
                                <div id="pac-container" class="search-box search-color bg-highlight shadow-tiny round-small top-60 bottom-10">
                                <input id="pac-input" type="text" placeholder="Search here..">
                                <div id="map" style="display:none"></div>
                                </div>

                            </div> 
                            
                        </div>
                        <!-- -->

                    </div>
                </div>
            </div>

            <div class="content-boxed content-boxed-full">
                <div class="store-slide-2">
                    <div class="store-slide-title">
                        <h3 class="bolder">Phone Number</h3>
                        <p>
                            Please write your phone number like 010-xxxx-xxxx.
                        </p>
                        <p>
                            <input type="text" id="phone1" placeholder="xxx" style="border: 1px solid black;">
                            -
                            <input type="text" id="phone2" placeholder="xxxx" style="border: 1px solid black;">
                            -
                            <input type="text" id="phone3" placeholder="xxxx" style="border: 1px solid black;">
                        </p>
                    </div>
                </div>
            </div>

            <div class="content-boxed content-boxed-full">
                <div class="store-slide-2">
                    <div class="store-slide-title">
                        <h3 class="bolder">Insurance</h3>
                        <p>
                            If you want to get surety insurance, check the insurance.
                        </p>
                        <p>
                            Apply for insurance<input id="insurance" class="fac fac-checkbox fac-green" type="checkbox" value="1">
                        </p>
                    </div>
                </div>
            </div>
            <div>
                <a id="regiBtn" class="button bg-highlight button-round-small shadow-large button-full button-margins button-m bottom-30">Register</a>
            </div>
           
        </div>
        
        <!-- <div class="menu-hider"></div> -->
        

        <script type="text/javascript" src="/scripts/jquery.js"></script>
        <script type="text/javascript" src="/scripts/plugins.js"></script>
        <script type="text/javascript" src="/scripts/custom.js"></script>     
        <script type="text/javascript" src="/scripts/common.js"></script> 
        <script 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAhHkFo-bYv_U9iLedicra9em2FpndEJS0&libraries=places&callback=initMap" defer async>
    </script> 
        <script type="text/javascript" src="/scripts/autoSearch2.js"></script>     

</body>

<script>
        $("#regiBtn").click(function(){
          var name = $("#name").val();
          var address = "somewhere"//$("#address").val();
          var keeper_phone = $("#phone1").val()+'-'+ $("#phone2").val()+'-'+$("#phone3").val()
          var insurance = $("#insurance").val();
          var location_lat = '33'//$("#location_lat").val();
          var location_lon = '33'//$("#location_lon").val();
    
          $.ajax({
            url:'http://localhost:3000/reg_keep_ok',
            type : 'POST',
            data : { 
                name: name,
                address: address,
                keeper_phone: keeper_phone,
                insurance: insurance,
                location_lat: location_lat,
                location_lon: location_lon
            },
            success:function(data){
                alert(data);
                if(data == "ok"){
                    window.location.href = 'keeper/keeperList';
                }
            }
          })
        });

        
</script>